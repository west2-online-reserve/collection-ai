# Python 字典用法总结

## 🏗️ 创建字典

- 字面量语法

  ：

  ```
  {key: value, ...}
  ```

  ```python
  person = {"name": "王大锤", "age": 55, "height": 168}
  ```

- dict 构造函数

  ：

  ```python
  person = dict(name="王大锤", age=55, height=168)
  ```

- zip 压缩序列

  ：

  ```python
  items = dict(zip("ABCDE", range(1, 6)))
  ```

- 字典生成式

  ：

  ```python
  cubes = {x: x**3 for x in range(1, 6)}
  ```

------

## 🔍 基本操作

- **长度**：`len(d)`

- 遍历键

  ：

  ```python
  for key in person:
      print(key, person[key])
  ```

- **成员运算**：`'name' in person` → `True`

------

## 🎯 索引与修改

- **访问值**：`person["name"]`
- **修改值**：`person["age"] = 25`
- **新增键值对**：`person["tel"] = "13122334455"`
- **注意**：键必须是 **不可变类型**（int, float, str, tuple），值可以是任意类型。

------

## 🛠️ 常用方法

| 方法                | 作用                         | 示例                        |
| ------------------- | ---------------------------- | --------------------------- |
| `get(key, default)` | 安全取值（不存在返回默认值） | `person.get("sex", "未知")` |
| `keys()`            | 返回所有键                   | `dict_keys([...])`          |
| `values()`          | 返回所有值                   | `dict_values([...])`        |
| `items()`           | 返回键值对元组               | `dict_items([...])`         |
| `update(d2)`        | 合并字典，覆盖同名键         | `d1.update(d2)`             |
| `pop(key)`          | 删除并返回指定键的值         | `person.pop("age")`         |
| `popitem()`         | 删除并返回最后一组键值对     |                             |
| `clear()`           | 清空字典                     |                             |
| `del d[key]`        | 删除指定键                   |                             |

------

## ⚡ 合并字典

- Python 3.9+ 支持 

  ```
  |
  ```

   运算符：

  ```python
  d1 = {"a": 1, "b": 2}
  d2 = {"b": 3, "c": 4}
  d1 |= d2  # {"a": 1, "b": 3, "c": 4}
  ```

------

## 📊 应用示例

1. **统计字母出现次数**

   ```python
   counter = {}
   for ch in sentence:
       if ch.isalpha():
           counter[ch] = counter.get(ch, 0) + 1
   ```

   - 可结合 `sorted(counter, key=counter.get, reverse=True)` 排序。

2. **筛选股票价格大于 100 的字典**

   ```python
   stocks = {"AAPL": 191.88, "GOOG": 1186.96, "IBM": 149.24, "ORCL": 48.44}
   high = {k: v for k, v in stocks.items() if v > 100}
   ```

------

## 📝 总结

- 字典以 **键值对** 形式存储数据，键必须不可变，值可任意。
- 适合快速检索、建模复杂对象。
- 方法丰富，支持合并、删除、遍历、条件生成等操作。

------

