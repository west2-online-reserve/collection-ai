## 🔑 Python 字符串转义字符速查表

| 写法         | 含义                                   | 示例                | 输出           |
| ------------ | -------------------------------------- | ------------------- | -------------- |
| `\n`         | 换行符 (newline)                       | `"Hello\nWorld"`    | Hello<br>World |
| `\t`         | 水平制表符 (Tab)                       | `"A\tB"`            | A  B           |
| `\r`         | 回车符 (carriage return)，光标回到行首 | `"123\rAB"`         | AB3            |
| `\\`         | 反斜杠本身                             | `"C:\\path\\file"`  | C:\path\file   |
| `\'`         | 单引号                                 | `'It\'s OK'`        | It's OK        |
| `\"`         | 双引号                                 | `"He said: \"Hi\""` | He said: "Hi"  |
| `\ooo`       | 八进制表示字符                         | `"\141\142\143"`    | abc            |
| `\xhh`       | 十六进制表示字符                       | `"\x61\x62\x63"`    | abc            |
| `\uhhhh`     | Unicode（4位16进制）                   | `"\u9a86\u660a"`    | 骆昊           |
| `\Uhhhhhhhh` | Unicode（8位16进制）                   | `"\U0001F600"`      | 😀              |
| `r'...'`     | 原始字符串，不转义                     | `r"\n\t"`           | \n\t           |

------

### 📌 小结

- **普通字符串**：`\n \t \r` 等会被解释为控制符。
- **原始字符串**：前缀 `r`，所有 `\` 都保留原样。
- **八进制/十六进制/Unicode**：可以精确表示任意字符。

------

#### 查找操作

如果想在一个字符串中从前向后查找有没有另外一个字符串，可以使用字符串的`find`或`index`方法。在使用`find`和`index`方法时还可以通过方法的参数来指定查找的范围，也就是查找不必从索引为`0`的位置开始。

```
s = 'hello, world!'
print(s.find('or'))      # 8
print(s.find('or', 9))   # -1
print(s.find('of'))      # -1
print(s.index('or'))     # 8
print(s.index('or', 9))  # ValueError: substring not found
```



> **说明**：`find`方法找不到指定的字符串会返回`-1`，`index`方法找不到指定的字符串会引发`ValueError`错误。

------

## 🔍 Python 字符串查找方法对比

| 方法                          | 查找方向 | 找到时返回     | 找不到时返回      | 适用场景                                           |
| ----------------------------- | -------- | -------------- | ----------------- | -------------------------------------------------- |
| `find(sub[, start[, end]])`   | 从左到右 | 子串的起始索引 | **-1**            | 宽容查找，不确定子串是否存在时使用                 |
| `index(sub[, start[, end]])`  | 从左到右 | 子串的起始索引 | **抛 ValueError** | 严格查找，确信子串一定存在时使用                   |
| `rfind(sub[, start[, end]])`  | 从右到左 | 子串的起始索引 | **-1**            | 宽容查找，想要最后一次出现的位置                   |
| `rindex(sub[, start[, end]])` | 从右到左 | 子串的起始索引 | **抛 ValueError** | 严格查找，必须保证子串存在，且要最后一次出现的位置 |

------

### 📌 示例代码

```python
s = "hello, world!"

print(s.find("o"))     # 4
print(s.index("o"))    # 4
print(s.rfind("o"))    # 7
print(s.rindex("o"))   # 7

print(s.find("x"))     # -1
# print(s.index("x"))  # ValueError: substring not found
```

------

### ✅ 总结

- `find` / `rfind` → **宽容**，失败时返回 -1。
- `index` / `rindex` → **严格**，失败时抛异常。
- 选择哪一个取决于你是否希望“子串不存在”时程序继续运行，还是立刻报错。

------

## 🔑 Python 字符串常用方法速查表

| 方法                           | 功能                         | 示例                       | 输出            |
| ------------------------------ | ---------------------------- | -------------------------- | --------------- |
| `len(s)`                       | 获取字符串长度               | `len("hello")`             | `5`             |
| `s.find(sub)`                  | 查找子串，找不到返回 -1      | `"hello".find("l")`        | `2`             |
| `s.index(sub)`                 | 查找子串，找不到抛异常       | `"hello".index("l")`       | `2`             |
| `s.rfind(sub)`                 | 从右往左查找子串             | `"hello".rfind("l")`       | `3`             |
| `s.rindex(sub)`                | 从右往左查找子串，失败抛异常 | `"hello".rindex("l")`      | `3`             |
| `s.startswith(prefix)`         | 判断是否以某前缀开头         | `"hello".startswith("he")` | `True`          |
| `s.endswith(suffix)`           | 判断是否以某后缀结尾         | `"hello".endswith("lo")`   | `True`          |
| `s.isalpha()`                  | 是否全是字母                 | `"abc".isalpha()`          | `True`          |
| `s.isdigit()`                  | 是否全是数字                 | `"123".isdigit()`          | `True`          |
| `s.isalnum()`                  | 是否全是字母或数字           | `"abc123".isalnum()`       | `True`          |
| `s.upper()`                    | 转大写                       | `"hello".upper()`          | `"HELLO"`       |
| `s.lower()`                    | 转小写                       | `"HELLO".lower()`          | `"hello"`       |
| `s.capitalize()`               | 首字母大写                   | `"hello".capitalize()`     | `"Hello"`       |
| `s.title()`                    | 每个单词首字母大写           | `"hello world".title()`    | `"Hello World"` |
| `s.strip()`                    | 去掉首尾空格或指定字符       | `" hi ".strip()`           | `"hi"`          |
| `s.lstrip()`                   | 去掉左侧空格或指定字符       | `" hi".lstrip()`           | `"hi"`          |
| `s.rstrip()`                   | 去掉右侧空格或指定字符       | `"hi ".rstrip()`           | `"hi"`          |
| `s.replace(old, new[, count])` | 替换子串                     | `"hello".replace("l","x")` | `"hexxo"`       |
| `s.split(sep)`                 | 拆分为列表                   | `"a,b,c".split(",")`       | `["a","b","c"]` |
| `sep.join(list)`               | 用分隔符拼接列表             | `",".join(["a","b","c"])`  | `"a,b,c"`       |
| `s.center(width, fill)`        | 居中对齐                     | `"hi".center(6,"*")`       | `"**hi**"`      |
| `s.ljust(width, fill)`         | 左对齐                       | `"hi".ljust(6,"-")`        | `"hi----"`      |
| `s.rjust(width, fill)`         | 右对齐                       | `"hi".rjust(6,"-")`        | `"----hi"`      |
| `s.zfill(width)`               | 左侧补零                     | `"42".zfill(5)`            | `"00042"`       |
| `s.format(...)`                | 格式化字符串                 | `"{}+{}={}".format(2,3,5)` | `"2+3=5"`       |
| `f"{var}"`                     | f-string 格式化              | `f"{2}+{3}={2+3}"`         | `"2+3=5"`       |

------

### 📌 小结

- **查找类**：`find` / `index` / `rfind` / `rindex`
- **判断类**：`startswith` / `endswith` / `isalpha` / `isdigit` / `isalnum`
- **变换类**：`upper` / `lower` / `capitalize` / `title`
- **修剪类**：`strip` / `lstrip` / `rstrip`
- **替换与分割**：`replace` / `split` / `join`
- **对齐与填充**：`center` / `ljust` / `rjust` / `zfill`
- **格式化**：`format` / f-string

------

如果需要进一步控制格式化语法中变量值的形式，可以参照下面的表格来进行字符串格式化操作。

| 变量值      | 占位符     | 格式化结果      | 说明                   |
| ----------- | ---------- | --------------- | ---------------------- |
| `3.1415926` | `{:.2f}`   | `'3.14'`        | 保留小数点后两位       |
| `3.1415926` | `{:+.2f}`  | `'+3.14'`       | 带符号保留小数点后两位 |
| `-1`        | `{:+.2f}`  | `'-1.00'`       | 带符号保留小数点后两位 |
| `3.1415926` | `{:.0f}`   | `'3'`           | 不带小数               |
| `123`       | `{:0>10d}` | `'0000000123'`  | 左边补`0`，补够10位    |
| `123`       | `{:x<10d}` | `'123xxxxxxx'`  | 右边补`x` ，补够10位   |
| `123`       | `{:>10d}`  | `'       123'`  | 左边补空格，补够10位   |
| `123`       | `{:<10d}`  | `'123       '`  | 右边补空格，补够10位   |
| `123456789` | `{:,}`     | `'123,456,789'` | 逗号分隔格式           |
| `0.123`     | `{:.2%}`   | `'12.30%'`      | 百分比格式             |
| `123456789` | `{:.2e}`   | `'1.23e+08'`    | 科学计数法格式         |



------



# 编码和解码

------

## 🔑 基本概念

- **字符串 (str)**：在 Python3 中，字符串是 **Unicode** 序列（逻辑上的字符）。
- **字节串 (bytes)**：二进制数据序列，每个元素是 0–255 的整数。

要在两者之间转换，就需要 **编码 (encode)** 和 **解码 (decode)**。

------

## 📝 `encode()` 方法

- **作用**：把 `str` 编码为 `bytes`

- **语法**：

  ```python
  str.encode(encoding="utf-8", errors="strict")
  ```

- **参数**：

  - `encoding`：指定编码方式，默认 `"utf-8"`

  - ```
    errors
    ```

    ：错误处理方式，常见值：

    - `"strict"`（默认）：遇到非法字符报错
    - `"ignore"`：忽略非法字符
    - `"replace"`：用 `?` 替代非法字符
    - `"backslashreplace"`：用转义序列替代非法字符

- **示例**：

  ```python
  text = "骆昊"
  b1 = text.encode("utf-8")
  b2 = text.encode("gbk")
  print(b1)  # b'\xe9\xaa\x86\xe6\x98\x8a'
  print(b2)  # b'\xc2\xe6\xea\xbb'
  ```

------

## 📝 `decode()` 方法

- **作用**：把 `bytes` 解码为 `str`

- 语法

  ：

  ```python
  bytes.decode(encoding="utf-8", errors="strict")
  ```

- **参数**：与 `encode()` 相同

- 示例

  ：

  ```python
  b1 = b'\xe9\xaa\x86\xe6\x98\x8a'
  b2 = b'\xc2\xe6\xea\xbb'
  
  print(b1.decode("utf-8"))  # 骆昊
  print(b2.decode("gbk"))    # 骆昊
  ```

------

## ⚠️ 注意事项

1. **编码和解码必须匹配**

   - 用 `utf-8` 编码的字节串必须用 `utf-8` 解码，否则会报错或乱码。

   ```python
   b = "你好".encode("utf-8")
   print(b.decode("gbk"))  # 错误或乱码
   ```

2. **默认编码是 UTF-8**

   - Python3 默认使用 UTF-8，能很好地支持中文和多语言。

3. **常见编码**

   - `"utf-8"`：国际通用，推荐
   - `"gbk"` / `"gb2312"`：中文常用编码
   - `"ascii"`：仅支持英文和符号

------

## ✅ 总结表

| 方法             | 作用            | 输入    | 输出    | 默认编码 |
| ---------------- | --------------- | ------- | ------- | -------- |
| `str.encode()`   | 字符串 → 字节串 | `str`   | `bytes` | UTF-8    |
| `bytes.decode()` | 字节串 → 字符串 | `bytes` | `str`   | UTF-8    |





------

# 🧠 Python 字符串方法思维导图

## 🔗 分割 / 拼接

- `split(sep=None, maxsplit=-1)` → 按分隔符切割成列表
- `rsplit()` → 从右边开始切割
- `splitlines()` → 按行切割
- `'sep'.join(iterable)` → 用分隔符拼接序列

------

## ✂️ 去除 / 清理

- `strip(chars=None)` → 去掉首尾空白或指定字符
- `lstrip()` / `rstrip()` → 去掉左/右侧字符

------

## 🔍 查找 / 定位

- `find(sub)` / `rfind(sub)` → 返回子串索引，找不到返回 -1
- `index(sub)` / `rindex(sub)` → 类似 `find`，但找不到会报错
- `count(sub)` → 子串出现次数
- `startswith(prefix)` / `endswith(suffix)` → 判断前缀/后缀

------

## 🔄 替换 / 修改

- `replace(old, new, count=-1)` → 替换子串
- `expandtabs(tabsize=8)` → 将 `\t` 转为空格

------

## 🔠 大小写转换

- `upper()` / `lower()` → 全部大写 / 小写
- `capitalize()` → 首字母大写，其余小写
- `title()` → 每个单词首字母大写
- `swapcase()` → 大小写互换

------

## ✅ 判断类

- `isdigit()` → 是否全为数字
- `isalpha()` → 是否全为字母
- `isalnum()` → 是否字母或数字
- `isspace()` → 是否全为空白符
- `islower()` / `isupper()` → 是否全小写 / 大写
- `istitle()` → 是否标题格式

------

## 🎨 格式化

- `center(width, fillchar)` → 居中对齐
- `ljust(width, fillchar)` / `rjust(width, fillchar)` → 左/右对齐
- `zfill(width)` → 左侧补零
- `format()` / f-string → 字符串格式化

------

## 🧩 使用建议

- **记忆法**：可以把方法分成 6 大类：
   👉 分割拼接 → 清理 → 查找 → 替换 → 大小写 → 判断/格式化

- 组合技巧

  ：

  - `strip()` + `split()` → 清理输入并切割
  - `split()` + `join()` → 拆分再重组
  - `find()` + 切片 → 精确提取子串
